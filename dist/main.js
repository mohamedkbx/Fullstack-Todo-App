(()=>{"use strict";var t=document.querySelector(".todo__button"),e=document.querySelector(".todo__input"),a=document.querySelector(".todo-list"),n=document.querySelector(".filter-todo"),s=document.getElementById("notification");document.addEventListener("DOMContentLoaded",(function(){var t;t=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));t.forEach((function(t){var e=document.createElement("div");e.classList.add("todo");var n=document.createElement("li");n.innerText=t,n.classList.add("todo__item"),e.appendChild(n),document.createElement("div").classList.add("todo__controls");var s=document.createElement("button");s.innerHTML="<i class ='fas fa-check'></i>",s.classList.add("complete__button"),e.appendChild(s);var o=document.createElement("button");o.innerHTML="<i class ='fas fa-trash'></i>",o.classList.add("trash__button"),e.appendChild(o);var i=document.createElement("button");i.innerHTML="<i class ='fas fa-edit'></i>",i.classList.add("edit__button"),e.appendChild(i),a.appendChild(e)}))})),t.addEventListener("click",(function(t){t.preventDefault();var n=document.createElement("div");n.classList.add("todo");var o=document.createElement("li");if(!e.value)return;o.innerText=e.value,o.classList.add("todo__item"),n.appendChild(o),function(t){var e;e=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));e.push(t),localStorage.setItem("todos",JSON.stringify(e))}(e.value);var i=document.createElement("button");i.innerHTML="<i class ='fas fa-check'></i>",i.classList.add("complete__button"),n.appendChild(i);var l=document.createElement("button");l.innerHTML="<i class ='fas fa-trash'></i>",l.classList.add("trash__button"),n.appendChild(l);var d=document.createElement("button");d.innerHTML="<i class ='fas fa-edit'></i>",d.classList.add("edit__button"),n.appendChild(d),a.appendChild(n),e.value="",e.focus(),s.classList.add("show"),setTimeout((function(){s.classList.remove("show")}),3e3)})),a.addEventListener("click",(function(t){var e=t.target,a=e.parentElement;e.classList.contains("trash__button")&&(a.classList.add("fall"),function(t){var e;e=null===localStorage.getItem("todos")?[]:JSON.parse(localStorage.getItem("todos"));var a=t.children[0].innerText;e.splice(e.indexOf(a),1),localStorage.setItem("todos",JSON.stringify(e))}(a),a.addEventListener("transitionend",(function(){a.remove()})));e.classList.contains("complete__button")&&a.classList.toggle("completed");if(e.classList.contains("edit__button")){var n=a.querySelector(".todo__item"),s=document.createElement("input");s.type="text",s.value=n.innerText,s.classList.add("edit-input"),a.replaceChild(s,n),s.focus(),e.innerHTML="<i class='fas fa-save'></i>",e.classList.remove("edit__button"),e.classList.add("save__button"),e.addEventListener("click",(function(){!function(t,e){var a=document.createElement("li");a.innerText=e,a.classList.add("todo__item");var n=t.querySelector(".edit-input");t.replaceChild(a,n),function(t,e){var a=JSON.parse(localStorage.getItem("todos"))||[],n=t.querySelector(".todo__item").innerText,s=a.findIndex((function(t){return t===n}));s>-1&&(a[s]=e);localStorage.setItem("todos",JSON.stringify(a))}(t,e)}(a,s.value)}))}})),n.addEventListener("click",(function(t){a.childNodes.forEach((function(e){switch(t.target.value){case"all":e.style.display="flex";break;case"completed":e.classList.contains("completed")?e.style.display="flex":e.style.display="none";break;case"uncompleted":e.classList.contains("completed")?e.style.display="none":e.style.display="flex"}}))}))})();